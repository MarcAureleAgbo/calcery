---

import type { FAQItem } from '../lib/types.ts';

export interface Props {

  items: FAQItem[];

}

const { items } = Astro.props;

const faqJsonLd = items.length > 0 ? {

  "@context": "https://schema.org",

  "@type": "FAQPage",

  "mainEntity": items.map(item => ({

    "@type": "Question",

    "name": item.question,

    "acceptedAnswer": {

      "@type": "Answer",

      "text": item.answer

    }

  }))

} : null;

---

{faqJsonLd && <script type="application/ld+json" set:html={JSON.stringify(faqJsonLd)} />}

<div class="space-y-4">

  {items.map((item, index) => (

    <details class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm" key={index}>

      <summary class="cursor-pointer font-semibold text-gray-800 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">

        {item.question}

      </summary>

      <div class="mt-2 text-gray-700">

        <p>{item.answer}</p>

      </div>

    </details>

  ))}

</div>