import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.WFquGv8Z.js";const W=()=>{const[i,N]=n.useState(0),[r,v]=n.useState(1),[o,y]=n.useState(0),[u,w]=n.useState(0),[C,x]=n.useState(0),[F,h]=n.useState(0),[S,p]=n.useState(0),[M,b]=n.useState(0),E=()=>{const s=Math.max(i-o,0)/r,t=s*r;x(s),h(t),p(0),b(o+t)},f=(a,s,t,l)=>{if(s===0)return l+a*t;const c=((1+s)**t-1)/s;return l*(1+s)**t+a*c},R=(a,s,t,l)=>{if(a<=l)return 0;let c=0,g=a*2,d=0;for(let j=0;j<100;j++)d=(c+g)/2,f(d,s,t,l)<a?c=d:g=d;return d},k=()=>{const a=u/100/12,s=R(i,a,r,o),t=f(s,a,r,o),l=s*r,c=Math.max(t-o-l,0);x(s),h(l),p(c),b(t)};n.useEffect(()=>{u===0?E():k()},[i,r,o,u]);const m=(a,s=0)=>t=>{const l=Math.max(s,parseFloat(t.target.value)||s);a(l)},I=i<=o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Objectif d’épargne (€)"}),e.jsx("input",{type:"number",min:"0",step:"any",value:i,onChange:m(N),className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Durée (mois)"}),e.jsx("input",{type:"number",min:"1",step:"1",value:r,onChange:m(v,1),className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Épargne initiale (€)"}),e.jsx("input",{type:"number",min:"0",step:"any",value:o,onChange:m(y),className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Taux annuel (%)"}),e.jsx("input",{type:"number",min:"0",step:"any",value:u,onChange:m(w),className:"w-full p-2 border border-gray-300 rounded"})]})]}),I&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:e.jsx("p",{children:"Votre objectif est déjà atteint."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Effort mensuel"}),e.jsxs("p",{className:"text-2xl",children:[C.toFixed(2)," €"]})]}),e.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Total versé"}),e.jsxs("p",{className:"text-2xl",children:[F.toFixed(2)," €"]})]}),e.jsxs("div",{className:"bg-yellow-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Intérêts estimés"}),e.jsxs("p",{className:"text-2xl",children:[S.toFixed(2)," €"]})]}),e.jsxs("div",{className:"bg-purple-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Capital final estimé"}),e.jsxs("p",{className:"text-2xl",children:[M.toFixed(2)," €"]})]})]})]})};export{W as default};
