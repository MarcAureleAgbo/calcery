import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.WFquGv8Z.js";const k=()=>{const[r,b]=s.useState(0),[a,h]=s.useState(2),[n,p]=s.useState("percent"),[d,g]=s.useState(0),[c,j]=s.useState(0),[m,N]=s.useState(!1),[y,f]=s.useState(0),[u,v]=s.useState(0),[x,w]=s.useState(0);s.useEffect(()=>{const t=n==="percent"?r*d/100:c,l=r+t,i=a>0?l/a:0;f(t),v(l),w(i)},[r,a,n,d,c]);const o=(t,l=0)=>i=>{const P=Math.max(l,parseFloat(i.target.value)||l);t(P)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Montant de l’addition (€)"}),e.jsx("input",{type:"number",min:"0",step:"any",value:r,onChange:o(b),className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Nombre de personnes"}),e.jsx("input",{type:"number",min:"1",step:"1",value:a,onChange:o(h,1),className:"w-full p-2 border border-gray-300 rounded"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Pourboire"}),e.jsxs("div",{className:"flex space-x-2 mb-2",children:[e.jsx("button",{onClick:()=>p("percent"),className:`px-4 py-2 rounded ${n==="percent"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Pourcentage"}),e.jsx("button",{onClick:()=>p("amount"),className:`px-4 py-2 rounded ${n==="amount"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Montant"})]}),n==="percent"?e.jsx("input",{type:"number",min:"0",step:"any",value:d,onChange:o(g),className:"w-full p-2 border border-gray-300 rounded",placeholder:"%"}):e.jsx("input",{type:"number",min:"0",step:"any",value:c,onChange:o(j),className:"w-full p-2 border border-gray-300 rounded",placeholder:"€"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"round",checked:m,onChange:t=>N(t.target.checked),className:"mr-2"}),e.jsx("label",{htmlFor:"round",className:"font-semibold",children:"Arrondir par personne"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Pourboire"}),e.jsxs("p",{className:"text-2xl",children:[y.toFixed(2)," €"]})]}),e.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Total"}),e.jsxs("p",{className:"text-2xl",children:[u.toFixed(2)," €"]})]}),e.jsxs("div",{className:"bg-yellow-100 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold",children:"Par personne"}),e.jsxs("p",{className:"text-2xl",children:[x.toFixed(2)," €"]})]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a," personnes • total ",u.toFixed(2)," € • ",x.toFixed(2)," € / personne"]}),m&&e.jsx("p",{className:"text-sm text-gray-600",children:"Des centimes peuvent rester après arrondi."})]})};export{k as default};
